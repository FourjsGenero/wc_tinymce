<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <meta content="text/html; charset=UTF-8" http-equiv="content-type">
        <title></title>
        <script language="JavaScript" type="text/javascript" src="tinymce/tinymce.min.js"></script>
          <script language="JavaScript" >

onICHostReady = function(version) {

    if ( version != 1.0 )
        alert('Invalid API version');

    // adjust toolbar/menubar to have options you want
    // refer to TinyMCE docs for options available
    // https://www.tinymce.com/docs/configure/editor-appearance/#toolbar
    // https://www.tinymce.com/docs/advanced/editor-control-identifiers/#toolbarcontrols
    // TODO Set these from 4gl code

   
        
    gICAPI.onProperty = function(propertySet) {
        ps=eval('(' + propertySet + ')');

        tinymce.init({
            selector: '#txt_tinymce',
            plugins: ps.plugins,
            toolbar1: ps.toolbar1,
            toolbar2: ps.toolbar2,
            toolbar3: ps.toolbar3,
            menubar: ps.menubar
        });
    }

    gICAPI.onData = function(data) {
       //alert("On Data");
    }

    gICAPI.onFocus = function(polarity) {
        //alert("On Focus");
    }

    set_content = function(c) {
        tinymce.activeEditor.setContent(c);
    }
    
    get_content = function() {
        return tinyMCE.activeEditor.getContent();
    }
    
    // Use this for debugging
    show_content = function() {
        alert(tinyMCE.activeEditor.getContent());
    }
}
        </script>
        
    </head>
    <body>
       <textarea id="txt_tinymce" style="width:100%; height:100%"></textarea>
    </body>
</html>


